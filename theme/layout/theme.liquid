<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">

    <link rel="canonical" href="{{ canonical_url }}">

    {% if settings.favicon != blank %}
      <link
        fetchpriority="low"
        rel="icon"
        href="{{ settings.favicon | image_url: width: 32, height: 32 }}"
        sizes="32x32"
      >
    {% endif %}

    {%- if localization.available_countries.size > 1 or localization.available_languages.size > 1 -%}
      {{ 'localization-form.css' | asset_url | stylesheet_tag: preload: true }}
      <script src="{{ 'localization-form.js' | asset_url }}" defer="defer"></script>
    {%- endif -%}

    <title>{{ page_title }}</title>

    <meta name="description" content="{{ page_description | default: shop.name | escape }}">

    {% comment %} Bundle {% endcomment %}
    <script src="{{ 'bundle.js' | asset_url }}" type="module" defer="defer"></script>

    <script>
      document.documentElement.className = document.documentElement.className.replace('no-js', 'js');
      window.addEventListener('load', () => document.documentElement.classList.add('ready'));
    </script>

    {{ content_for_header }}

    {% comment %} CSS files {% endcomment %}
    {{ 'base.css' | asset_url | stylesheet_tag }}
    {{ 'main.css' | asset_url | stylesheet_tag }}
    {{ 'nouislider.min.css' | asset_url | stylesheet_tag }}
    {{ 'nouislider.css' | asset_url | stylesheet_tag }}

    {% liquid
      render 'color-schemes'
    %}

    {%- liquid
      assign body_font_bold = settings.typography_body | font_modify: 'weight', 'bold'
      assign body_font_italic = settings.typography_body | font_modify: 'style', 'italic'
      assign body_font_bold_italic = body_font_bold | font_modify: 'style', 'italic'
    %}

    {% style %}
      {{ settings.typography_body | font_face: font_display: 'swap', preload: true }}
      {{ body_font_bold | font_face: font_display: 'swap' }}
      {{ body_font_italic | font_face: font_display: 'swap' }}
      {{ body_font_bold_italic | font_face: font_display: 'swap' }}
      {{ settings.typography_heading | font_face: font_display: 'swap', preload: true }}
      {{ settings.typography_pre_heading | font_face: font_display: 'swap' }}

      :root {
        --font-body-family: {{ settings.typography_body.family }}, {{ settings.typography_body.fallback_families }};
        --font-body-style: {{ settings.typography_body.style }};
        --font-body-weight: {{ settings.typography_body.weight }};
        --font-body-weight-bold: {{ settings.typography_body.weight | plus: 300 | at_most: 1000 }};

        --font-pre-heading-family: {{ settings.typography_pre_heading.family }}, {{ settings.typography_pre_heading.fallback_families }};
        --font-pre-heading-style: {{ settings.typography_pre_heading.style }};
        --font-pre-heading-weight: {{ settings.typography_pre_heading.weight }};

        --font-heading-family: {{ settings.typography_heading.family }}, {{ settings.typography_heading.fallback_families }};
        --font-heading-style: {{ settings.typography_heading.style }};
        --font-heading-weight: {{ settings.typography_heading.weight }};

        --font-scale: {{ settings.typography_scale | divided_by: 100.0 }};

        --border-radius: {{ settings.border_radius | default: 6 | divided_by: 10.0 }};
      }
    {% endstyle %}
  </head>
  <body class="antialiased scroll-smooth">
    <a class="sr-only" href="#main">
      {{ 'accessibility.skip_to_text' | t }}
    </a>

    {% comment %} Render header group section {% endcomment %}
    {% sections 'header-group' %}

    <main
      id="main"
      tabindex="-1"
      role="main"
    >
      {{ content_for_layout }}
    </main>

    {% sections 'footer-group' %}

    {% comment %} Setup - these variables are needed for image_height to work {% endcomment %}
    <script>
      window.theme = window.theme || {};
      window.theme.slideshow_asset_url = '{{ 'swiper-element-bundle.js' | asset_url }}';
      window.theme.slideshow_navigation_asset_url = '{{ 'slideshow-navigation.js' | asset_url }}';
      window.theme.accordion_asset_url = '{{ 'accordion.js' | asset_url }}';
      window.theme.geo = {{ geo | json }};
      window.moneyFormat = '{{ shop.money_format }}';
      window.shopUrl = '{{ request.origin }}';
      window.routes = {
        cart_add_url: '{{ routes.cart_add_url }}',
        cart_change_url: '{{ routes.cart_change_url }}',
        cart_update_url: '{{ routes.cart_update_url }}',
        cart_url: '{{ routes.cart_url }}',
        cart_clear_url: '{{ routes.cart_clear_url }}',
        predictive_search_url: '{{ routes.predictive_search_url }}',
        product_recommendations_url: '{{ routes.product_recommendations_url }}',
      };
    </script>

    {% comment %} Integrations {% endcomment %}
    {% render 'gorgias-chat', enabled: settings.gorgias_chat_enabled, id: settings.gorgias_chat_id %}
    {% render 'google-analytics', enabled: settings.google_analytics_enabled, id: settings.google_analytics_id %}

    {% render 'backdrop' %}
  </body>
</html>
