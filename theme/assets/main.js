var t=new class{listeners=new Map;on(t,e){let n=this.listeners.get(t);return n||(n=new Set,this.listeners.set(t,n)),n.add(e),()=>{n.delete(e)}}off(t,e){let n=this.listeners.get(t);n&&n.delete(e)}emit(t,e){const n=this.listeners.get(t);if(n)for(const t of n)t(e)}};const e="/cart/add",n="/cart/update",i="/cart",r="/cart/clear",o={async addToCart(t,n,i=1){try{const r=await fetch(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({product_id:t,variant_id:n||void 0,quantity:i})});if(!r.ok)throw new Error("Network response was not ok");const o=await r.json();return console.log("Product added to cart:",o),o}catch(t){throw console.error("Error adding product to cart:",t),t}},async getCart(){try{const t=await fetch(i,{method:"GET",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!t.ok)throw new Error("Network response was not ok");const e=await t.json();return console.log("Cart:",e),e}catch(t){throw console.error("Error getting cart:",t),t}},async clearCart(){try{const t=await fetch(r,{method:"POST",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!t.ok)throw new Error("Network response was not ok");const e=await t.json();return console.log("Cart cleared:",e),e}catch(t){}},async updateCart(e){t.emit("cart-update-before",e);try{const i=await fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(e)});if(!i.ok)throw new Error("Network response was not ok");t.emit("cart-update-after",e);const r=await i.json();return console.log("Cart updated:",r),r}catch(t){throw console.error("Error updating cart:",t),t}}};function s(t){let e=t.trim();if(e.startsWith("<!")){const t=e.indexOf(">");-1!==t&&(e=e.slice(t+1)),e=function(t){const e=document.createElement("textarea");return e.innerHTML=t,e.value}(e)}return JSON.parse(e)}class a extends HTMLElement{constructor(){super(),this.subscriptions=[],this.handleUpdateCartBound=this.handleUpdateCart.bind(this)}connectedCallback(){document.addEventListener("quantity-change",this.handleUpdateCartBound),this.subscriptions.push(t.on("cart-update-before",this.beforeUpdateCart.bind(this)),t.on("cart-update-after",this.afterUpdateCart.bind(this)))}disconnectedCallback(){document.removeEventListener("quantity-change",this.handleUpdateCartBound),this.subscriptions.forEach((t=>t())),this.subscriptions.length=0}async fetchCartContent(){const t=await fetch("/?sections=cart");if(!t.ok)throw new Error("Failed to fetch cart");const e=s(await t.text());return(new DOMParser).parseFromString(e.cart,"text/html")}async handleUpdateCart(t){const{line:e,quantity:n}=t.detail;try{await o.updateCart({line:e,quantity:n})}catch(t){console.error("Error handling update cart:",t)}}beforeUpdateCart({line:t,quantity:e}){if(0===e){const e=this.querySelector(`tr[data-line="${t}"]`);null!==e&&e.classList.add("opacity-20")}}afterUpdateCart(){this.fetchCartContent().then((t=>{this.updateCartContent(t)}))}async updateCartContent(t){const e=t.querySelector("cart-root");if(!e)throw new Error("No cart content found to update");this.innerHTML=e.innerHTML}}const c={activeComponent:null,open(t){this.activeComponent&&this.activeComponent!==t&&this.activeComponent.close(),this.activeComponent=t,t.open()},close(t){this.activeComponent===t&&(t.close(),this.activeComponent=null)}};class l extends HTMLElement{constructor(){super(),this.body=null,this.trigger=null,this.target=null,this.content=null,this.drawerTriggers=[],this.backdropOverlay=null,this.announcement=null,this.header=null,this.searchDialog=null,this.cartDrawerButton=null,this.cartCount=null,this.cartSubtotal=null,this.cartItemPrices=null,this.subscriptions=[],this.openUiManagerBound=d.bind(this),this.closeUiManagerBound=u.bind(this),this.handleAddToCartBound=this.handleAddToCart.bind(this),this.handleUpdateCartBound=this.handleUpdateCart.bind(this),this.onDocumentKeyDownBound=this.onDocumentKeyDown.bind(this),this.onClickBackgroundOverlayBound=this.onClickBackgroundOverlay.bind(this)}connectedCallback(){this.body=document.body,this.trigger=document.querySelector("cart-trigger"),this.target=this,this.content=document.querySelector("cart-drawer-content"),this.drawerTriggers=document.querySelectorAll("cart-drawer-trigger"),this.backdropOverlay=document.querySelector("backdrop-root"),this.announcement=document.querySelector("announcement-root"),this.header=document.querySelector("header"),this.searchDialog=document.querySelector("search-dialog-root"),this.cartDrawerButton=document.querySelector("cart-drawer-button"),this.cartCount=document.querySelector("cart-count"),this.cartSubtotal=document.querySelector("cart-drawer-subtotal"),this.cartItemPrices=document.querySelectorAll("cart-drawer-item-price"),this.trigger&&this.trigger.addEventListener("click",this.openUiManagerBound),this.drawerTriggers.forEach((t=>{t.addEventListener("click",this.closeUiManagerBound)})),this.cartDrawerButton&&this.cartDrawerButton.addEventListener("click",this.handleAddToCartBound),document.addEventListener("keydown",this.onDocumentKeyDownBound),this.backdropOverlay&&this.backdropOverlay.addEventListener("click",this.onClickBackgroundOverlayBound),this.addEventListener("quantity-change",this.handleUpdateCartBound),this.subscriptions.push(t.on("cart-update-before",this.beforeUpdateCart.bind(this)),t.on("cart-update-after",this.afterUpdateCart.bind(this)))}disconnectedCallback(){this.trigger&&this.trigger.removeEventListener("click",this.openUiManagerBound),this.drawerTriggers.forEach((t=>{t.removeEventListener("click",this.closeUiManagerBound)})),this.cartDrawerButton&&this.cartDrawerButton.removeEventListener("click",this.handleAddToCartBound),document.removeEventListener("keydown",this.onDocumentKeyDownBound),this.backdropOverlay&&this.backdropOverlay.removeEventListener("click",this.onClickBackgroundOverlayBound),this.removeEventListener("quantity-change",this.handleUpdateCartBound),this.subscriptions.forEach((t=>t())),this.subscriptions.length=0,this.body=null,this.trigger=null,this.target=null,this.content=null,this.drawerTriggers=[],this.backdropOverlay=null,this.announcement=null,this.header=null,this.searchDialog=null,this.cartDrawerButton=null,this.cartCount=null,this.cartSubtotal=null,this.cartItemPrices=null}onDocumentKeyDown(t){"Escape"===t.key&&this.target&&"false"===this.target.getAttribute("aria-hidden")&&c.close(this)}onClickBackgroundOverlay(t){this.target&&"false"===this.target.getAttribute("aria-hidden")&&!this.target.contains(t.target)&&c.close(this)}async fetchCartDrawerContent(){const t=await fetch("/?sections=cart-drawer");if(!t.ok)throw new Error("Failed to fetch cart-drawer");const e=s(await t.text());return(new DOMParser).parseFromString(e["cart-drawer"],"text/html")}toggleLoader(t){const e=this.cartDrawerButton.querySelector("span"),n=this.cartDrawerButton.querySelector('div[role="status"]');e&&e.classList.toggle("hidden",t),n&&(n.classList.toggle("hidden",!t),n.classList.toggle("flex",t))}async handleAddToCart(t){t.preventDefault();const e=this.cartDrawerButton.getAttribute("data-product-id"),n=this.cartDrawerButton.getAttribute("data-variant-id"),i=Number(this.cartDrawerButton.getAttribute("data-variant-quantity"));this.toggleLoader(!0);try{await o.addToCart(e,n,i),await this.fetchCartDrawerContent().then((t=>{this.updateCartDrawerContent(t)}));const t=await o.getCart();this.cartCount.textContent=t.item_count,c.open(this)}catch(t){console.error("Error handling add to cart:",t)}finally{this.toggleLoader(!1)}}async handleUpdateCart(t){t.stopPropagation();const{line:e,quantity:n}=t.detail,i=this.cartSubtotal,r=i.querySelector("span"),s=i.querySelector('div[role="status"]');try{r&&r.classList.add("hidden"),s&&(s.classList.remove("hidden"),s.classList.add("flex")),await o.updateCart({line:e,quantity:n});const t=await o.getCart();this.cartCount.textContent=t.item_count}catch(t){console.error("Error handling update cart:",t)}finally{s&&(s.classList.add("hidden"),s.classList.remove("flex")),r&&r.classList.remove("hidden")}}beforeUpdateCart({line:t,quantity:e}){if(0===e){const e=this.querySelector(`cart-drawer-item[data-line="${t}"]`);null!==e&&e.classList.add("opacity-20")}}afterUpdateCart(){this.fetchCartDrawerContent().then((t=>{this.updateCartDrawerContent(t)}))}async updateCartDrawerContent(t){const e=this.content,n=t.querySelector("cart-drawer-content");if(!n||!e)throw new Error("No cart drawer content found to update");e.innerHTML=n.innerHTML;const i=t.querySelector("cart-drawer-subtotal");if(!i||!this.cartSubtotal)throw new Error("No existing subtotal element found or no new subtotal found");this.cartSubtotal.innerHTML=i.innerHTML;const r=this.querySelector('button[name="checkout"]'),o=t.querySelector('button[name="checkout"]');r&&o&&r.toggleAttribute("disabled",null!==o.getAttribute("disabled"))}open(){this.header&&this.backdropOverlay&&this.target&&this.searchDialog&&(this.body.classList.add("overflow-hidden"),this.header.classList.remove("z-60"),this.header.classList.add("z-10"),this.announcement&&(this.announcement.classList.remove("z-60"),this.announcement.classList.add("z-10")),this.searchDialog.classList.remove("z-50"),this.backdropOverlay.classList.remove("translate-x-full"),this.target.classList.remove("translate-x-full"),this.target.setAttribute("aria-hidden","false"))}close(){this.header&&this.backdropOverlay&&this.target&&(this.body.classList.remove("overflow-hidden"),this.header.classList.add("z-60"),this.header.classList.remove("z-10"),this.announcement&&(this.announcement.classList.add("z-60"),this.announcement.classList.remove("z-10")),this.searchDialog.classList.add("z-50"),this.backdropOverlay.classList.add("translate-x-full"),this.target.classList.add("translate-x-full"),this.target.setAttribute("aria-hidden","true"))}}function d(){c.open(this)}function u(){c.close(this)}const h=Math.min,f=Math.max,m=Math.round,p=Math.floor,g=t=>({x:t,y:t}),y={left:"right",right:"left",bottom:"top",top:"bottom"},v={start:"end",end:"start"};function w(t,e,n){return f(t,h(e,n))}function b(t,e){return"function"==typeof t?t(e):t}function x(t){return t.split("-")[0]}function L(t){return t.split("-")[1]}function E(t){return"x"===t?"y":"x"}function C(t){return"y"===t?"height":"width"}function k(t){return["top","bottom"].includes(x(t))?"y":"x"}function q(t){return E(k(t))}function S(t,e,n){void 0===n&&(n=!1);const i=L(t),r=q(t),o=C(r);let s="x"===r?i===(n?"end":"start")?"right":"left":"start"===i?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=B(s)),[s,B(s)]}function A(t){return t.replace(/start|end/g,(t=>v[t]))}function B(t){return t.replace(/left|right|bottom|top/g,(t=>y[t]))}function T(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}function D(t){const{x:e,y:n,width:i,height:r}=t;return{width:i,height:r,top:n,left:e,right:e+i,bottom:n+r,x:e,y:n}}function M(t,e,n){let{reference:i,floating:r}=t;const o=k(e),s=q(e),a=C(s),c=x(e),l="y"===o,d=i.x+i.width/2-r.width/2,u=i.y+i.height/2-r.height/2,h=i[a]/2-r[a]/2;let f;switch(c){case"top":f={x:d,y:i.y-r.height};break;case"bottom":f={x:d,y:i.y+i.height};break;case"right":f={x:i.x+i.width,y:u};break;case"left":f={x:i.x-r.width,y:u};break;default:f={x:i.x,y:i.y}}switch(L(e)){case"start":f[s]-=h*(n&&l?-1:1);break;case"end":f[s]+=h*(n&&l?-1:1)}return f}async function O(t,e){var n;void 0===e&&(e={});const{x:i,y:r,platform:o,rects:s,elements:a,strategy:c}=t,{boundary:l="clippingAncestors",rootBoundary:d="viewport",elementContext:u="floating",altBoundary:h=!1,padding:f=0}=b(e,t),m=T(f),p=a[h?"floating"===u?"reference":"floating":u],g=D(await o.getClippingRect({element:null==(n=await(null==o.isElement?void 0:o.isElement(p)))||n?p:p.contextElement||await(null==o.getDocumentElement?void 0:o.getDocumentElement(a.floating)),boundary:l,rootBoundary:d,strategy:c})),y="floating"===u?{x:i,y:r,width:s.floating.width,height:s.floating.height}:s.reference,v=await(null==o.getOffsetParent?void 0:o.getOffsetParent(a.floating)),w=await(null==o.isElement?void 0:o.isElement(v))&&await(null==o.getScale?void 0:o.getScale(v))||{x:1,y:1},x=D(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:v,strategy:c}):y);return{top:(g.top-x.top+m.top)/w.y,bottom:(x.bottom-g.bottom+m.bottom)/w.y,left:(g.left-x.left+m.left)/w.x,right:(x.right-g.right+m.right)/w.x}}function R(){return"undefined"!=typeof window}function I(t){return F(t)?(t.nodeName||"").toLowerCase():"#document"}function P(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function H(t){var e;return null==(e=(F(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function F(t){return!!R()&&(t instanceof Node||t instanceof P(t).Node)}function U(t){return!!R()&&(t instanceof Element||t instanceof P(t).Element)}function N(t){return!!R()&&(t instanceof HTMLElement||t instanceof P(t).HTMLElement)}function z(t){return!(!R()||"undefined"==typeof ShadowRoot)&&(t instanceof ShadowRoot||t instanceof P(t).ShadowRoot)}function W(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=J(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function _(t){return["table","td","th"].includes(I(t))}function j(t){return[":popover-open",":modal"].some((e=>{try{return t.matches(e)}catch(t){return!1}}))}function V(t){const e=X(),n=U(t)?J(t):t;return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function X(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function $(t){return["html","body","#document"].includes(I(t))}function J(t){return P(t).getComputedStyle(t)}function K(t){return U(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Y(t){if("html"===I(t))return t;const e=t.assignedSlot||t.parentNode||z(t)&&t.host||H(t);return z(e)?e.host:e}function G(t){const e=Y(t);return $(e)?t.ownerDocument?t.ownerDocument.body:t.body:N(e)&&W(e)?e:G(e)}function Q(t,e,n){var i;void 0===e&&(e=[]),void 0===n&&(n=!0);const r=G(t),o=r===(null==(i=t.ownerDocument)?void 0:i.body),s=P(r);if(o){const t=Z(s);return e.concat(s,s.visualViewport||[],W(r)?r:[],t&&n?Q(t):[])}return e.concat(r,Q(r,[],n))}function Z(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function tt(t){const e=J(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=N(t),o=r?t.offsetWidth:n,s=r?t.offsetHeight:i,a=m(n)!==o||m(i)!==s;return a&&(n=o,i=s),{width:n,height:i,$:a}}function et(t){return U(t)?t:t.contextElement}function nt(t){const e=et(t);if(!N(e))return g(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:o}=tt(e);let s=(o?m(n.width):n.width)/i,a=(o?m(n.height):n.height)/r;return s&&Number.isFinite(s)||(s=1),a&&Number.isFinite(a)||(a=1),{x:s,y:a}}const it=g(0);function rt(t){const e=P(t);return X()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:it}function ot(t,e,n,i){void 0===e&&(e=!1),void 0===n&&(n=!1);const r=t.getBoundingClientRect(),o=et(t);let s=g(1);e&&(i?U(i)&&(s=nt(i)):s=nt(t));const a=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==P(t))&&e}(o,n,i)?rt(o):g(0);let c=(r.left+a.x)/s.x,l=(r.top+a.y)/s.y,d=r.width/s.x,u=r.height/s.y;if(o){const t=P(o),e=i&&U(i)?P(i):i;let n=t,r=Z(n);for(;r&&i&&e!==n;){const t=nt(r),e=r.getBoundingClientRect(),i=J(r),o=e.left+(r.clientLeft+parseFloat(i.paddingLeft))*t.x,s=e.top+(r.clientTop+parseFloat(i.paddingTop))*t.y;c*=t.x,l*=t.y,d*=t.x,u*=t.y,c+=o,l+=s,n=P(r),r=Z(n)}}return D({width:d,height:u,x:c,y:l})}function st(t,e){const n=K(t).scrollLeft;return e?e.left+n:ot(H(t)).left+n}function at(t,e,n){let i;if("viewport"===e)i=function(t,e){const n=P(t),i=H(t),r=n.visualViewport;let o=i.clientWidth,s=i.clientHeight,a=0,c=0;if(r){o=r.width,s=r.height;const t=X();(!t||t&&"fixed"===e)&&(a=r.offsetLeft,c=r.offsetTop)}return{width:o,height:s,x:a,y:c}}(t,n);else if("document"===e)i=function(t){const e=H(t),n=K(t),i=t.ownerDocument.body,r=f(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),o=f(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let s=-n.scrollLeft+st(t);const a=-n.scrollTop;return"rtl"===J(i).direction&&(s+=f(e.clientWidth,i.clientWidth)-r),{width:r,height:o,x:s,y:a}}(H(t));else if(U(e))i=function(t,e){const n=ot(t,!0,"fixed"===e),i=n.top+t.clientTop,r=n.left+t.clientLeft,o=N(t)?nt(t):g(1);return{width:t.clientWidth*o.x,height:t.clientHeight*o.y,x:r*o.x,y:i*o.y}}(e,n);else{const n=rt(t);i={...e,x:e.x-n.x,y:e.y-n.y}}return D(i)}function ct(t,e){const n=Y(t);return!(n===e||!U(n)||$(n))&&("fixed"===J(n).position||ct(n,e))}function lt(t,e,n){const i=N(e),r=H(e),o="fixed"===n,s=ot(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const c=g(0);if(i||!i&&!o)if(("body"!==I(e)||W(r))&&(a=K(e)),i){const t=ot(e,!0,o,e);c.x=t.x+e.clientLeft,c.y=t.y+e.clientTop}else r&&(c.x=st(r));let l=0,d=0;if(r&&!i&&!o){const t=r.getBoundingClientRect();d=t.top+a.scrollTop,l=t.left+a.scrollLeft-st(r,t)}return{x:s.left+a.scrollLeft-c.x-l,y:s.top+a.scrollTop-c.y-d,width:s.width,height:s.height}}function dt(t){return"static"===J(t).position}function ut(t,e){if(!N(t)||"fixed"===J(t).position)return null;if(e)return e(t);let n=t.offsetParent;return H(t)===n&&(n=n.ownerDocument.body),n}function ht(t,e){const n=P(t);if(j(t))return n;if(!N(t)){let e=Y(t);for(;e&&!$(e);){if(U(e)&&!dt(e))return e;e=Y(e)}return n}let i=ut(t,e);for(;i&&_(i)&&dt(i);)i=ut(i,e);return i&&$(i)&&dt(i)&&!V(i)?n:i||function(t){let e=Y(t);for(;N(e)&&!$(e);){if(V(e))return e;if(j(e))return null;e=Y(e)}return null}(t)||n}const ft={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const o="fixed"===r,s=H(i),a=!!e&&j(e.floating);if(i===s||a&&o)return n;let c={scrollLeft:0,scrollTop:0},l=g(1);const d=g(0),u=N(i);if((u||!u&&!o)&&(("body"!==I(i)||W(s))&&(c=K(i)),N(i))){const t=ot(i);l=nt(i),d.x=t.x+i.clientLeft,d.y=t.y+i.clientTop}return{width:n.width*l.x,height:n.height*l.y,x:n.x*l.x-c.scrollLeft*l.x+d.x,y:n.y*l.y-c.scrollTop*l.y+d.y}},getDocumentElement:H,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const o=[..."clippingAncestors"===n?j(e)?[]:function(t,e){const n=e.get(t);if(n)return n;let i=Q(t,[],!1).filter((t=>U(t)&&"body"!==I(t))),r=null;const o="fixed"===J(t).position;let s=o?Y(t):t;for(;U(s)&&!$(s);){const e=J(s),n=V(s);n||"fixed"!==e.position||(r=null),(o?!n&&!r:!n&&"static"===e.position&&r&&["absolute","fixed"].includes(r.position)||W(s)&&!n&&ct(t,s))?i=i.filter((t=>t!==s)):r=e,s=Y(s)}return e.set(t,i),i}(e,this._c):[].concat(n),i],s=o[0],a=o.reduce(((t,n)=>{const i=at(e,n,r);return t.top=f(i.top,t.top),t.right=h(i.right,t.right),t.bottom=h(i.bottom,t.bottom),t.left=f(i.left,t.left),t}),at(e,s,r));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:ht,getElementRects:async function(t){const e=this.getOffsetParent||ht,n=this.getDimensions,i=await n(t.floating);return{reference:lt(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:i.width,height:i.height}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){const{width:e,height:n}=tt(t);return{width:e,height:n}},getScale:nt,isElement:U,isRTL:function(t){return"rtl"===J(t).direction}};function mt(t,e,n,i){void 0===i&&(i={});const{ancestorScroll:r=!0,ancestorResize:o=!0,elementResize:s="function"==typeof ResizeObserver,layoutShift:a="function"==typeof IntersectionObserver,animationFrame:c=!1}=i,l=et(t),d=r||o?[...l?Q(l):[],...Q(e)]:[];d.forEach((t=>{r&&t.addEventListener("scroll",n,{passive:!0}),o&&t.addEventListener("resize",n)}));const u=l&&a?function(t,e){let n,i=null;const r=H(t);function o(){var t;clearTimeout(n),null==(t=i)||t.disconnect(),i=null}return function s(a,c){void 0===a&&(a=!1),void 0===c&&(c=1),o();const{left:l,top:d,width:u,height:m}=t.getBoundingClientRect();if(a||e(),!u||!m)return;const g={rootMargin:-p(d)+"px "+-p(r.clientWidth-(l+u))+"px "+-p(r.clientHeight-(d+m))+"px "+-p(l)+"px",threshold:f(0,h(1,c))||1};let y=!0;function v(t){const e=t[0].intersectionRatio;if(e!==c){if(!y)return s();e?s(!1,e):n=setTimeout((()=>{s(!1,1e-7)}),1e3)}y=!1}try{i=new IntersectionObserver(v,{...g,root:r.ownerDocument})}catch(t){i=new IntersectionObserver(v,g)}i.observe(t)}(!0),o}(l,n):null;let m,g=-1,y=null;s&&(y=new ResizeObserver((t=>{let[i]=t;i&&i.target===l&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame((()=>{var t;null==(t=y)||t.observe(e)}))),n()})),l&&!c&&y.observe(l),y.observe(e));let v=c?ot(t):null;return c&&function e(){const i=ot(t);!v||i.x===v.x&&i.y===v.y&&i.width===v.width&&i.height===v.height||n();v=i,m=requestAnimationFrame(e)}(),n(),()=>{var t;d.forEach((t=>{r&&t.removeEventListener("scroll",n),o&&t.removeEventListener("resize",n)})),null==u||u(),null==(t=y)||t.disconnect(),y=null,c&&cancelAnimationFrame(m)}}const pt=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:o,placement:s,middlewareData:a}=e,c=await async function(t,e){const{placement:n,platform:i,elements:r}=t,o=await(null==i.isRTL?void 0:i.isRTL(r.floating)),s=x(n),a=L(n),c="y"===k(n),l=["left","top"].includes(s)?-1:1,d=o&&c?-1:1,u=b(e,t);let{mainAxis:h,crossAxis:f,alignmentAxis:m}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:{mainAxis:u.mainAxis||0,crossAxis:u.crossAxis||0,alignmentAxis:u.alignmentAxis};return a&&"number"==typeof m&&(f="end"===a?-1*m:m),c?{x:f*d,y:h*l}:{x:h*l,y:f*d}}(e,t);return s===(null==(n=a.offset)?void 0:n.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:r+c.x,y:o+c.y,data:{...c,placement:s}}}}},gt=function(t){return void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...c}=b(t,e),l={x:n,y:i},d=await O(e,c),u=k(x(r)),h=E(u);let f=l[h],m=l[u];if(o){const t="y"===h?"bottom":"right";f=w(f+d["y"===h?"top":"left"],f,f-d[t])}if(s){const t="y"===u?"bottom":"right";m=w(m+d["y"===u?"top":"left"],m,m-d[t])}const p=a.fn({...e,[h]:f,[u]:m});return{...p,data:{x:p.x-n,y:p.y-i,enabled:{[h]:o,[u]:s}}}}}},yt=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:o,rects:s,initialPlacement:a,platform:c,elements:l}=e,{mainAxis:d=!0,crossAxis:u=!0,fallbackPlacements:h,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:p=!0,...g}=b(t,e);if(null!=(n=o.arrow)&&n.alignmentOffset)return{};const y=x(r),v=k(a),w=x(a)===a,E=await(null==c.isRTL?void 0:c.isRTL(l.floating)),C=h||(w||!p?[B(a)]:function(t){const e=B(t);return[A(t),e,A(e)]}(a)),q="none"!==m;!h&&q&&C.push(...function(t,e,n,i){const r=L(t);let o=function(t,e,n){const i=["left","right"],r=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?o:s;default:return[]}}(x(t),"start"===n,i);return r&&(o=o.map((t=>t+"-"+r)),e&&(o=o.concat(o.map(A)))),o}(a,p,m,E));const T=[a,...C],D=await O(e,g),M=[];let R=(null==(i=o.flip)?void 0:i.overflows)||[];if(d&&M.push(D[y]),u){const t=S(r,s,E);M.push(D[t[0]],D[t[1]])}if(R=[...R,{placement:r,overflows:M}],!M.every((t=>t<=0))){var I,P;const t=((null==(I=o.flip)?void 0:I.index)||0)+1,e=T[t];if(e)return{data:{index:t,overflows:R},reset:{placement:e}};let n=null==(P=R.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:P.placement;if(!n)switch(f){case"bestFit":{var H;const t=null==(H=R.filter((t=>{if(q){const e=k(t.placement);return e===v||"y"===e}return!0})).map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:H[0];t&&(n=t);break}case"initialPlacement":n=a}if(r!==n)return{reset:{placement:n}}}return{}}}},vt=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:o,platform:s,elements:a,middlewareData:c}=e,{element:l,padding:d=0}=b(t,e)||{};if(null==l)return{};const u=T(d),f={x:n,y:i},m=q(r),p=C(m),g=await s.getDimensions(l),y="y"===m,v=y?"top":"left",x=y?"bottom":"right",E=y?"clientHeight":"clientWidth",k=o.reference[p]+o.reference[m]-f[m]-o.floating[p],S=f[m]-o.reference[m],A=await(null==s.getOffsetParent?void 0:s.getOffsetParent(l));let B=A?A[E]:0;B&&await(null==s.isElement?void 0:s.isElement(A))||(B=a.floating[E]||o.floating[p]);const D=k/2-S/2,M=B/2-g[p]/2-1,O=h(u[v],M),R=h(u[x],M),I=O,P=B-g[p]-R,H=B/2-g[p]/2+D,F=w(I,H,P),U=!c.arrow&&null!=L(r)&&H!==F&&o.reference[p]/2-(H<I?O:R)-g[p]/2<0,N=U?H<I?H-I:H-P:0;return{[m]:f[m]+N,data:{[m]:F,centerOffset:H-F-N,...U&&{alignmentOffset:N}},reset:U}}}),wt=(t,e,n)=>{const i=new Map,r={platform:ft,...n},o={...r.platform,_c:i};return(async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),c=await(null==s.isRTL?void 0:s.isRTL(e));let l=await s.getElementRects({reference:t,floating:e,strategy:r}),{x:d,y:u}=M(l,i,c),h=i,f={},m=0;for(let n=0;n<a.length;n++){const{name:o,fn:p}=a[n],{x:g,y:y,data:v,reset:w}=await p({x:d,y:u,initialPlacement:i,placement:h,strategy:r,middlewareData:f,rects:l,platform:s,elements:{reference:t,floating:e}});d=null!=g?g:d,u=null!=y?y:u,f={...f,[o]:{...f[o],...v}},w&&m<=50&&(m++,"object"==typeof w&&(w.placement&&(h=w.placement),w.rects&&(l=!0===w.rects?await s.getElementRects({reference:t,floating:e,strategy:r}):w.rects),({x:d,y:u}=M(l,h,c))),n=-1)}return{x:d,y:u,placement:h,strategy:r,middlewareData:f}})(t,e,{...r,platform:o})};class bt extends HTMLElement{constructor(){super(),this.backdropOverlay=document.querySelector("backdrop-root"),this.searchInput=this.querySelector('input[type="search"]'),this.triggers=document.querySelectorAll("search-trigger"),this.body=document.body,this.header=document.querySelector("header"),this.init()}init(){this.triggers.forEach((t=>{t.addEventListener("click",(()=>{JSON.parse(this.getAttribute("aria-hidden"))?c.open(this):c.close(this)}))})),this.getAttribute("aria-hidden")&&document.addEventListener("keydown",(t=>{"Escape"===t.key&&c.close(this)})),document.addEventListener("click",(t=>{this.contains(t.target)||Array.from(this.triggers).some((e=>e.contains(t.target)))||c.close(this)}))}open(){JSON.parse(this.getAttribute("aria-hidden"))&&(this.body.classList.add("overflow-hidden"),this.setAttribute("aria-hidden","false"),this.backdropOverlay?.classList.remove("translate-x-full"),this.classList.remove("-translate-y-full"),this.computePosition(),this.searchInput?.focus())}close(){JSON.parse(this.getAttribute("aria-hidden"))||(this.body.classList.remove("overflow-hidden"),this.setAttribute("aria-hidden","true"),this.backdropOverlay?.classList.add("translate-x-full"),this.classList.add("-translate-y-full"))}async computePosition(){const t=this.header;if(!t)return;const{x:e,y:n}=await wt(t,this,{placement:"bottom"});Object.assign(this.style,{top:`${n}px`})}}new class{constructor(){this.showMegaMenu=this.showMegaMenu.bind(this),this.hideMegaMenu=this.hideMegaMenu.bind(this),this.keepMenuVisible=this.keepMenuVisible.bind(this),this.init()}init(){this.setupEventListeners(),window.megaMenuManager=this}setupEventListeners(){document.querySelectorAll("a[data-mega-menu]").forEach((t=>{const e=t.getAttribute("data-mega-menu"),n=document.getElementById(e);n&&(t.addEventListener("mouseenter",(()=>{n.classList.add("active")})),t.addEventListener("mouseleave",(()=>{setTimeout((()=>{n.matches(":hover")||t.matches(":hover")||n.classList.remove("active")}),50)})),n.addEventListener("mouseenter",(()=>{n.classList.add("active")})),n.addEventListener("mouseleave",(()=>{setTimeout((()=>{n.matches(":hover")||t.matches(":hover")||n.classList.remove("active")}),50)})))}))}showMegaMenu(t){const e=document.getElementById(t);e&&e.classList.add("active")}keepMenuVisible(t){const e=document.getElementById(t);e&&e.classList.add("active")}hideMegaMenu(t){const e=document.getElementById(t);e&&setTimeout((()=>{const n=document.querySelector(`a[data-mega-menu="${t}"]`);e.matches(":hover")||n&&n.matches(":hover")||e.classList.remove("active")}),50)}};class xt extends HTMLElement{connectedCallback(){window.megaMenuManager&&window.megaMenuManager.init()}}class Lt extends HTMLElement{constructor(){super(),this.triggers=this.querySelectorAll("variant-radio-trigger"),this.inputs=this.querySelectorAll('input[type="radio"]'),this.cartDrawerButton=document.querySelector("cart-drawer-button"),this.init()}init(){this.triggers.forEach((t=>{t.addEventListener("click",(e=>{const n=e.currentTarget.getAttribute("aria-labelledby"),i=document.getElementById(n);if(i&&!i.disabled&&(this.inputs.forEach((t=>{t.checked=!1,t.removeAttribute("checked")})),i.checked=!0,i.setAttribute("checked","checked"),this.updateSelectedVariant(i)),this.cartDrawerButton){const e=t.getAttribute("data-variant-id");this.cartDrawerButton.setAttribute("data-variant-id",e)}}))}))}updateSelectedVariant(t){this.triggers.forEach((e=>{const n=e.getAttribute("aria-labelledby"),i=document.getElementById(n);i&&!i.disabled&&(i===t&&i.checked?(e.classList.add("bg-[#3B0B93]","text-white"),e.classList.remove("border-black","hover:bg-black","hover:text-white")):(e.classList.remove("bg-[#3B0B93]","text-white"),e.classList.add("border-black","hover:bg-black","hover:text-white")))}))}}class Et extends HTMLElement{constructor(){super(),this.root=this.querySelectorAll("popover-root"),this.trigger=this.querySelectorAll("popover-trigger"),this.content=this.querySelectorAll("popover-content"),this.arrowEl=this.querySelectorAll("popover-arrow"),this.cleanupFns=[],this.hidePopover=()=>{},this.clickOutsideListener=this.handleClickOutside.bind(this),this.ids=0,this.init()}init(){this.trigger.forEach(((t,e)=>{if(!this.root||!this.trigger)return;const n="popover-"+this.ids++;t.setAttribute("aria-describedby",n);const i=this.content[e],r=this.arrowEl[e];if(!i||!r)return;i.setAttribute("id",n);this.hidePopover=()=>{i.style.display="",i.remove(),this.cleanupFns[e]&&(this.cleanupFns[e](),this.cleanupFns[e]=null),document.removeEventListener("click",this.clickOutsideListener)},[["click",()=>{document.body.append(i),i.style.display="block";const n=mt(t,i,(()=>{this.updatePosition(t,i,r)}));this.cleanupFns[e]=n,document.addEventListener("click",this.clickOutsideListener)}]].forEach((([e,n])=>{t.addEventListener(e,n)}))}))}handleClickOutside(t){![...this.trigger,...this.content].some((e=>e.contains(t.target)))&&this.hidePopover&&this.hidePopover()}updatePosition(t,e,n){wt(t,e,{placement:"bottom",middleware:[yt(),pt(4),gt({padding:48}),vt({element:n})]}).then((({x:t,y:i,placement:r,middlewareData:o})=>{Object.assign(e.style,{left:`${t}px`,top:`${i}px`});const{x:s,y:a}=o.arrow||{},c={top:"bottom",right:"left",bottom:"top",left:"right"}[r.split("-")[0]];Object.assign(n.style,{left:null!=s?`${s}px`:"",top:null!=a?`${a}px`:"",right:"",bottom:"",[c]:"-4px"})}))}}class Ct extends HTMLElement{constructor(){super(),this.triggers=document.querySelectorAll("copy-to-clipboard"),this.init()}init(){this.triggers.forEach((t=>{t.addEventListener("click",(e=>{const n=t.getAttribute("data-copy-content");n&&navigator.clipboard.writeText(n).then((()=>{console.log("Content copied to clipboard:",n)})).catch((t=>{console.error("Failed to copy content:",t)}))}))}))}}class kt extends HTMLElement{constructor(){super(),this.handleIncrementBound=this.handleIncrement.bind(this),this.handleDecrementBound=this.handleDecrement.bind(this),this.handleInputChangeBound=this.handleInputChange.bind(this),this.handleRemoveBound=this.handleRemove.bind(this)}connectedCallback(){this.quantity=this.querySelector("input"),this.increment=this.querySelector("quantity-selector-increment"),this.decrement=this.querySelector("quantity-selector-decrement"),this.removeItem=this.querySelector("quantity-selector-remove"),this.increment&&this.decrement&&(this.increment.addEventListener("click",this.handleIncrementBound),this.decrement.addEventListener("click",this.handleDecrementBound)),this.quantity&&this.quantity.addEventListener("change",this.handleInputChangeBound),this.removeItem&&this.removeItem.addEventListener("click",this.handleRemoveBound)}disconnectedCallback(){this.increment&&this.decrement&&(this.increment.removeEventListener("click",this.handleIncrementBound),this.decrement.removeEventListener("click",this.handleDecrementBound)),this.quantity&&this.quantity.removeEventListener("change",this.handleInputChangeBound),this.removeItem&&this.removeItem.removeEventListener("click",this.handleRemoveBound),this.quantity=null,this.increment=null,this.decrement=null,this.removeItem=null}handleIncrement(){if(this.quantity){const t=parseInt(this.quantity.step)||1,e=parseInt(this.quantity.max)||1/0;let n=Math.min(parseInt(this.quantity.value)+t,e);this.quantity.value=n.toString(),this.quantity.setAttribute("value",n),this.dispatchChangeEvent()}}handleDecrement(){if(this.quantity){const t=parseInt(this.quantity.step)||1,e=parseInt(this.quantity.min)||0;let n=Math.max(parseInt(this.quantity.value)-t,e);this.quantity.value=n.toString(),this.quantity.setAttribute("value",n),this.dispatchChangeEvent()}}handleInputChange(t){const e=parseInt(this.quantity.value),n=parseInt(this.quantity.min)||0,i=parseInt(this.quantity.max)||1/0;e<n?(this.quantity.value=n.toString(),this.quantity.setAttribute("value",n)):e>i&&(this.quantity.value=i.toString(),this.quantity.setAttribute("value",i)),this.dispatchChangeEvent()}handleRemove(){this.quantity&&(this.quantity.value="0",this.quantity.setAttribute("value","0"),this.dispatchChangeEvent())}dispatchChangeEvent(){this.dispatchEvent(new CustomEvent("quantity-change",{detail:{line:Number(this.quantity.getAttribute("data-line")),quantity:Number(this.quantity.value)},bubbles:!0,composed:!0,cancelable:!0}))}}customElements.define("cart-root",a),customElements.define("cart-drawer-root",l),customElements.define("search-dialog-root",bt),customElements.define("mega-menu-root",xt),customElements.define("variant-radio",Lt),customElements.define("popover-root",Et),customElements.define("copy-to-clipboard",Ct),customElements.define("quantity-selector-root",kt),function(){if(window.theme){function t(t){var e=document.createElement("script");e.src=t,e.defer=!0,document.body.appendChild(e)}window.theme.slideshow_rendered&&t(window.theme.slideshow_asset_url),window.theme.slideshow_navigation&&t(window.theme.slideshow_navigation_asset_url),window.theme.accordion_rendered&&t(window.theme.accordion_asset_url)}}();
