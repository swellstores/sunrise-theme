{% comment %}
  Renders a generic input field with customizable attributes.

  Accepts:
    - type: {string} Input type (default: 'text')
    - name: {string} Input name (default: 'input_name')
    - value: {string} Input value (default: '')
    - placeholder: {string} Input placeholder (default: '')
    - class: {string} Input CSS class (default: '')
    - id: {string} Input ID (default: '')
    - autocomplete: {string} Input autocomplete attribute (default: 'off')
    - spellcheck: {string} Input spellcheck attribute (default: 'false')
    - required: {boolean} Input required attribute (default: false)
    - disabled: {boolean} Input disabled attribute (default: false)
    - readonly: {boolean} Input readonly attribute (default: false)

  Usage:
    {% render 'input' type: 'email', name: 'user_email', placeholder: 'Enter your email' %}
{% endcomment %}
{%- liquid
  assign type = type | default: 'text'
  assign name = name | default: 'input_name'
  assign value = value | default: ''
  assign placeholder = placeholder | default: ''
  assign variant = variant | default: 'default'
  assign id = id | default: ''
  assign autocomplete = autocomplete | default: 'off'
  assign spellcheck = spellcheck | default: 'false'
  assign required = required | default: false
  assign disabled = disabled | default: false
  assign readonly = readonly | default: false
  assign invalid = invalid | default: false
  assign error_id = error_id | default: ''
  assign autofocus = autofocus | default: false
  assign border_radius = settings.border_radius | default: 4
  assign color_scheme = section.settings.color_scheme

  assign base_class = 'peer block w-full appearance-none p-[16px] focus:outline-none focus:ring-0 text-' | append: color_scheme
  case variant
    when 'email'
      assign class = 'h-[48px] font-display text-title-small border-[1.5px] rounded-md bg-transparent focus:border-slate-600 border-color-' | append: color_scheme
    when 'default'
      assign class = 'font-display text-title-small border rounded-md bg-transparent focus:border-slate-600 border-color-' | append: color_scheme
    when 'account'
      assign class = 'font-display text-body-medium text-[#616161] border rounded-md bg-transparent focus:border-[#E8D9FF] border-color-' | append: color_scheme
    when 'error'
      assign class = 'font-display text-title-small border border-red-600 rounded-md bg-red-50 focus:border-red-600'
    when 'search'
      assign class = 'font-display text-[#616161] text-body-medium border rounded-[4px] bg-transparent border-color-' | append: color_scheme
    else
      assign class = 'font-display text-title-small border border-gray-400 rounded-md bg-transparent'
  endcase

  assign final_class = class | append: ' ' | append: base_class
-%}

<input
  type="{{ type }}"
  name="{{ name }}"
  value="{{ value }}"
  placeholder="{{ placeholder }}"
  class="{{ final_class }}"
  autocomplete="{{ autocomplete }}"
  spellcheck="{{ spellcheck }}"
  {% if id != '' %}
    id="{{ id }}"
  {% endif %}
  {% if required %}
    required
  {% endif %}
  {% if disabled %}
    disabled
  {% endif %}
  {% if readonly %}
    readonly
  {% endif %}
  {% if invalid %}
    aria-invalid="true"
  {% endif %}
  {% if error_id != '' %}
    aria-describedby="{{ error_id }}"
  {% endif %}
  {% if autofocus %}
    autofocus
  {% endif %}
  style="border-radius:{{ border_radius }}px"
>
