{%- liquid
  assign cart_type = settings.cart_type
-%}

<div class="flex items-center justify-end gap-[16px] ">
  <div class="relative hidden min-[768px]:block">
    {% if section.settings.show_language_selector %}
      <button class="text-body-small font-display text-{{ color_scheme }}" data-target="[data-modal='language']">
        {{ localization.language.endonym_name | capitalize }}
      </button>
    {% endif %}

    <div class="fixed inset-0 z-50 hidden bg-black/50" data-modal="language">
      {%- render 'language-local' -%}
    </div>
    {% if section.settings.show_currency_selector %}
      <button class="text-body-small font-display text-{{ color_scheme }}" data-target="[data-modal='currency']">
        {{ localization.country.currency.iso_code }}
        {{ localization.country.currency.symbol }}
      </button>
    {% endif %}

    <div class="fixed inset-0 z-50 hidden bg-black/50" data-modal="currency">
      {%- render 'country-local' -%}
    </div>
  </div>

  {%- if shop.customer_accounts_enabled -%}
    <ul class="hidden sm:flex divide-x">
      {%- if customer -%}
        <li class="px-2 uppercase text-label-large">
          <a
            href="{{ routes.account_url }}"
            class="text-{{ color_scheme }}"
          >
            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 11.5C14.2091 11.5 16 9.70914 16 7.5C16 5.29086 14.2091 3.5 12 3.5C9.79086 3.5 8 5.29086 8 7.5C8 9.70914 9.79086 11.5 12 11.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 21.5C15.866 21.5 19 21.0633 19 18.9545C19 16.8458 15.866 14.5 12 14.5C8.13401 14.5 5 16.8458 5 18.9545C5 21.0633 8.13401 21.5 12 21.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </li>
      {%- else -%}
        <li class="px-2 uppercase text-label-large">
          <a
            href="{{ routes.account_login_url }}"
            class="text-{{ color_scheme }}"
          >
            <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 11.5C14.2091 11.5 16 9.70914 16 7.5C16 5.29086 14.2091 3.5 12 3.5C9.79086 3.5 8 5.29086 8 7.5C8 9.70914 9.79086 11.5 12 11.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
              <path d="M12 21.5C15.866 21.5 19 21.0633 19 18.9545C19 16.8458 15.866 14.5 12 14.5C8.13401 14.5 5 16.8458 5 18.9545C5 21.0633 8.13401 21.5 12 21.5Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </li>
      {%- endif -%}
    </ul>
  {%- endif -%}

  <search-trigger
    type="button"
    class="size-6 flex items-center justify-center cursor-pointer text-{{ color_scheme }}"
    aria-label="Search {{ shop.name }}"
  >
    <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
      <rect x="15.4142" y="14.5" width="8.85334" height="2" transform="rotate(45 15.4142 14.5)" fill="currentColor"/>
      <circle cx="10" cy="10.5" r="7" stroke="currentColor" stroke-width="2"/>
    </svg>
  </search-trigger>
  {% if cart_type == 'drawer' %}
    <cart-trigger
      role="button"
      class="relative size-6 flex items-center justify-center text-{{ color_scheme }}"
      aria-label="Shopping cart"
    >
      <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4.06889 21.5L4.93555 8.5H19.0644L19.9311 21.5H4.06889Z" stroke="currentColor" stroke-width="2"/>
        <path d="M16 7.5C16 5.29086 14.2091 3.5 12 3.5C9.79086 3.5 8 5.29086 8 7.5" stroke="currentColor" stroke-width="2"/>
      </svg>
      <div
        class="absolute right-[-4px] top-[6px] flex h-[16px] w-[18px] items-center justify-center rounded-full bg-accent-{{ color_scheme }}"
      >
        <cart-count class="font-display text-[10px] btn-primary-{{ color_scheme }}">{{ cart.item_count }}</cart-count>
      </div>
    </cart-trigger>
  {% else %}
    <a href="{{ routes.cart_url }}" class="relative size-6 flex items-center justify-center text-{{ color_scheme }}">
      <svg width="24" height="25" viewBox="0 0 24 25" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M4.06889 21.5L4.93555 8.5H19.0644L19.9311 21.5H4.06889Z" stroke="currentColor" stroke-width="2"/>
        <path d="M16 7.5C16 5.29086 14.2091 3.5 12 3.5C9.79086 3.5 8 5.29086 8 7.5" stroke="currentColor" stroke-width="2"/>
      </svg>
      <div
        class="absolute right-[-4px] top-[6px] flex h-[16px] w-[18px] items-center justify-center rounded-full bg-accent-{{ color_scheme }}"
      >
        <cart-count class="font-display text-[10px] btn-primary-{{ color_scheme }}">{{ cart.item_count }}</cart-count>
      </div>
    </a>
  {% endif %}
</div>
